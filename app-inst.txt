size = "Standard_B1s"
source_image_reference {
publisher = "Canonical"
offer     = "UbuntuServer"
sku       = "18.04-LTS"
version   = "latest"
}
os_disk {
caching = "ReadWrite"
storage_account_type = "Standard_LRS"
}
admin_username = "admin"
admin_ssh_key {
username = azurerm_linux_virtual_machine.inst-app.admin_username
public_key = file("~/.ssh/id_rsa.pub")
}
custom_data = base64encode(templatefile("cloud-init-inst-app.yml.tmpl",
{
appconfig: {
images: [
"https://whyy.org/wp-content/uploads/2017/07/LOGO_First_overwhite-1-copy-1024x444.png",
"https://i.pinimg.com/originals/36/ce/15/36ce15ea7932c29f65f480cbfd252329.jpg",
"https://third-derivative.org/wp-content/uploads/2020/05/ThirdDerivative-Logo-TM-Light-Web.png"
],
dbhost: azurerm_mssql_server.db-server.fully_qualified_domain_name,
dbuser: azurerm_mssql_server.db-server.administrator_login,
dbpass: azurerm_mssql_server.db-server.administrator_login_password,
dbname: azurerm_mssql_database.db-database.name,
}
}))
